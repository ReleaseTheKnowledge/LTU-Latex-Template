\UseRawInputEncoding
\begin{lstlisting}[
  style      = Matlab-editor,
  basicstyle = \mlttfamily,
  ]
%% Code sections are highlighted.
% System command are supported...
!touch testFile.txt
A = [1, 2, 3;... %... as is line continuation.
     4, 5, 6];
fid = fopen('testFile.text', 'w');
for k=1:10
  fprintf(fid, '%6.2f \n', k)
end
x=1; %% this is just a comment, not the start of a section
% Context-sensitive keywords get highlighted correctly...
p = properties(person); %(here, properties is a function)
x = linspace(0,1,101);
y = x(end:-1:1);
% ... even in nonsensical code.
]end()()(((end while {    end    )end ))))end (end
%{
    block comments are supported
%} even
runaway block comments
are
\end{lstlisting}

%\lstinputlisting[
% style      = Matlab-editor,
%  basicstyle = \mlttfamily,
%]{Sections/Bilagor/matlabkod.m}